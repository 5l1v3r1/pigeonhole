.TH "SIEVEC" "1" "11 July 2010"
.SH NAME
sievec \- Sieve script compiler for the Dovecot secure IMAP server
.SH SYNOPSIS
sievec [\fB\-c\fR \fIconfig-file\fR] [\fB\-d\fR] [\fB\-x\fR "\fIextension extension ...\fR"] \fIscript\-file\fR [\fIout\-file\fR]
.SH DESCRIPTION
.PP
The \fBsievec\fP command is part of the Pigeonhole Sieve implementation for the Dovecot secure 
IMAP server. Sieve (RFC 5228) is a simple and highly extensible language for filtering 
e\-mail messages. It can be implemented for any type of mail access protocol, mail 
architecture and operating system. The language cannot execute external programs and in 
its basic form it does not provide the means to cause infinite loops, making it suitable 
for running securely on mail servers where mail users have no permission run arbitrary programs.
.PP
Using the \fBsievec\fP command, Sieve scripts can be compiled into a binary representation. 
The resulting binary can be used directly to process e\-mail messages during the delivery process. 
The delivery of mail messages and therefore also the execution of Sieve scripts is  
performed by Dovecot's local delivery agent (LDA) called \fBdeliver\fP. Usually, it is not 
necessary to compile the Sieve script manually using \fBsievec\fP, because \fBdeliver\fP will do 
this automatically if the binary is missing. However, in some cases \fBdeliver\fP does not have 
permission to write the compiled binary to disk, forcing it to recompile the script every time it 
is executed. Using the \fBsievec\fP tool, this can be performed manually by an authorized user to 
increase performance.
.PP
The \fBsievec\fP command accepts two arguments: the \fIscript\-file\fP argument specifies the 
script to be compiled and the \fIout\-file\fR argument specifies where the (binary) output is to
be written. This Sieve implementation reconizes files with a \fB.sieve\fP extension as Sieve 
scripts and corresponding files with a \fB.svbin\fP extension as the associated compiled binary. 
This means for example that Dovecot's deliver process will look for a binary file 'dovecot.svbin' 
when it needs to execute 'dovecot.sieve'. Such filename is chosen automatically for the binary output
when the out\-file argument is missing.
.PP
If the \fIscript\-file\fP  argument is a directory, all files in that directory with a \fI.sieve\fP 
extension are compiled into a corresponding \fI.svbin\fP binary file. The compilation is not halted 
upon errors; it attempts to compile as many scripts in the directory as possible. Note that the 
\fB\-d\fP option and the \fIout\-file\fP argument are not allowed when the \fIscript\-file\fP argument 
is a directory.
.PP
The \fBsievec\fP command is also useful to verify Sieve scripts before using. Additionally, with 
the \fB\-d\fP option it can output a textual (and thus human\-readable) dump of the generated Sieve
code to the specified file. The output is then identical to what the \fBsieved\fP(1) command produces
for a stored binary file. This output is mainly useful to find bugs in the compiler that yield corrupt 
binaries.
.SH OPTIONS
.TP
\fB\-c\fP \fIconfig-file\fP
Alternative Dovecot configuration file path.
.TP 
\fB\-d\fP 
Don't write the binary to \fIout\-file\fP, but write a textual dump of the binary in 
stead. In this context, the \fIout\-file\fP value '\-' has special meaning: it causes the the textual 
dump to be written to \fBstdout\fP. The \fIout\-file\fP argument may also be omitted, which has 
the same effect as '\-'. The output is identical to what the \fBsieved\fP(1) command produces for 
a compiled Sieve binary file. Note that this option is not allowed when the \fIout\-file\fP argument
is a directory.
.TP
\fB\-x\fP "\fIextension extension ...\fP"
Set the available extensions. The parameter is a space\-separated list of the active extensions. By
prepending the extension identifiers with \fB+\fP or \fB\-\fP, extensions can be included or excluded 
relative to the default set of extensions. If no extensions have a \fB+\fP or \fB\-\fP prefix, only 
those extensions that are explicitly listed will be enabled. Unknown extensions are ignored 
and a warning is produced. By default, all supported extensions are available, except for deprecated 
extensions or those that are still under development. 

For example \fB\-x\fP "+imapflags \-enotify" will enable the deprecated imapflags extension along with all 
extensions that are available by default, except for the enotify extension. 
.SH AUTHOR
.PP
Pigeonhole for Dovecot was written by Stephan Bosch <stephan@rename\-it.nl>.
.PP
Dovecot was written by Timo Sirainen <tss@iki.fi>.
.SH "SEE ALSO"
.BR sieved (1),
.BR sieve\-test (1)
.PP
Dovecot website: http://www.dovecot.org
.PP
Pigeonhole website: http://pigeonhole.dovecot.org
